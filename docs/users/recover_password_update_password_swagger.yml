tags:
  - Password recovery
summary: Reset the user's password
description: Updates the user's password
  - application/json
produces:
  - application/json
parameters:
  - in: body
    name: body
    required: true
    schema:
      type: object
      required:
        - username
        - answer
        - password
        - repeat_password
      properties:
        username:
          type: string
          example: "user123"
        answer:
          type: string
          example: "Azul"
        password:
          type: string
          example: "Abc123.."
        repeat_password:
          type: string
          example: "Abc123.."

responses:
  200:
    description: Password updated successfully
    schema:
      type: object
      properties:
        msg:
          type: string
        code:
          type: string
    examples:
      application/json:
        msg: "The password was updated correctly"
        code: "3006"

  400:
    description: Bad request (various possible causes)
    schema:
      type: object
      properties:
        msg:
          type: string
        code:
          type: string
    examples:
      application/json:
        possible_errors:
          - { msg: "Bad request. All fields are mandatory", code: "3001" }
          - { msg: "Bad request. The answer does not match", code: "3003" }
          - { msg: "Bad request. Passwords do not match", code: "3004" }
          - { msg: "Bad request. The password is invalid", code: "3005" }
          - { msg: "Bad request. The username was not found", code: "3007" }
          - { msg: "Bad request. The new password is already in use", code: "3008" }

  500:
    description: Internal server error